<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Nunito&display=swap" rel="stylesheet">

    
    <style>
        body {
            font-family: 'Fira Code', monospace;
            margin: 0px;
        }

        p, li {
            font-family: 'Nunito', sans-serif;
        }

        section {
            position: relative;
            min-height: 400px;
            padding: 100px 10vw;
        }

        .avalanche-content {
            display: grid;
            gap: 10px;
            align-items: center;
            grid-template-areas: 
            "content picture1"
            "content picture2"
            "content picture3"
            "picture7 picture4"
            "picture8 picture5"
            "picture9 picture6";
        }

        .content {
            grid-area: content;
        }

        div {
            padding: 25px;
        }

        h1 {
            min-height: 0px;
            padding: 25px 7.5vw;
            font-size: 5em;
        }

        h1, h2, h3 {
            text-align: center;
        }

        h2 {
            font-size: 3em;
        }

        h3 {
            font-size: 2em;
        }

        h4 {
            font-size: 1.5em;
        }

        .center {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 25%;
        }

        #title {
            background-color: #001220;
            color: white;
        }

        #title>p {
            padding-left: 75px;
            padding-right: 75px;
        }

        #prog {
            background-color: #B0C4DE;
        }

        #eng {
            background-color: #DC143C;
        }

        .spacer-container {
            aspect-ratio: 9/1;
            width: 100%;
            padding: 0px;
            overflow: hidden;
        }

        .spacer {
            aspect-ratio: 9/1;
            width: 105%;
            left: -2.5%;
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            padding: 0px;
            position: relative;
        }

        .wave1 {
            background-image: url(.//media/wave1.svg);
        }

        .wave2 {
            background-image: url(.//media/wave2.svg);
        }

        .break {
            flex-basis: 100%;
            height: 0;
        }

        iframe {
            display:block;
            margin: 0 auto;
            background-color: #A0B4CE;
            border: none;
        }
        
        .bp-content {
            display: grid;
            gap: 10px;
            align-items: center;
            grid-template-areas: 
            "demo content"
        }

        .lexica-content {
            display: grid;
            gap: 10px;
            align-items: center;
            grid-template-areas: 
            "content picture1"
            /* "content picture2"
            "content picture3"
            "content picture4" */
            "example example"
        }

        .lexica-example {
            display: grid;
            align-items: start;
            grid-template-areas: 
            "header header"
            "codeh outputh"
            "code output";
            grid-area: example
        }

        .quote {
            color: gray;
            padding-left: 5%;
            padding-right: 5%;
            font-style: italic;
            font-family: 'Times New Roman', Times, serif;
        }
    </style>

    <style>
        * {
            box-sizing: border-box;
        }

        img {
            width: 35vw;
        }

        .img-comp-container {
            position: relative;
            padding: 0px;
            width: 35vw;
            height: calc(35vw * 9/16);
        }

        .img-comp-img {
            position: absolute;
            width: auto;
            height: auto;
            overflow: hidden;
            padding: 0px;
        }

        .img-comp-img img {
            display: block;
        }

        .img-comp-slider {
            position: absolute;
            z-index: 9;
            cursor: ew-resize;
            /*set the appearance of the slider:*/
            width: 40px;
            height: 40px;
            background-color: #2196F3;
            opacity: 0.7;
            border-radius: 50%;
            padding: 0px;
        }
    </style>
</head>
<body>
    <section id="title">
        <h1>Charles Bruel</h1>
        <p>
            Hello I'm Charlie. I'm a senior in at Minuteman High School where I study Engineering. I've included some of my engineering projects in this portfolio. At 
            Minuteman, I am the captain of our <i>FIRST</i> robotics team, so I've included some of my contributions to the team. In addition to engineering, I also have a deep 
            interest in computers, and every level of how they work, from hardware to software. Over my near decade of coding, I've created many projects, some of which I show 
            in this portfolio.
        </p>
    </section>
    <div class="spacer-container"><div class="spacer wave1"></div></div>
    <section id="prog">
        <h2>Programming Portfolio</h2>
        <img src=".//media/langs.png" class="center">
        <h3>Overview</h3>
            <p>
                I program for a variety of reasons in a variety of languages. I am proficient in C, C++, C#, Java, Javscript, HTML, CSS, Rust, Python, GLSL, and x86 Assembly. My projects
                include 3D rendering with OpenGL and Vulkan, programming languages, mods for games, helpful scripts, robot control systems, and more. I program mostly to learn, I don't
                anticipate that knowing assembly will be very useful, but I wanted to understand how it worked. I've also learned a lot about how how computer hardware works, and how to
                take advantage of the cache, the branch predictor, and other optimizations, though I haven't had a good opportunity to put that into practice. <br><br>
                <a href="https://github.com/charles-bruel">Here is a link to my github</a>, I post most of my code there.
            </p>
        <div class="avalanche-content">
        <div class="content">
            <h3>Avalanche Mod</h3>
            <h4>Introduction</h4>
            <p>
                Snowtopia is a ski resort tycoon game I bought almost two years ago. Since then, I have become the most prolific modder of the game. My mod loader, avalanche,
                contains many tweaks to the game in addition to the ability for third parties to add custom content in the form of maps and lifts. Snowtopia is written in C#
                using the unity engine, allowing relatively simple modding with a decompiler such as DNSpy.<br><br>
                For full disclosure, I develop avalanche along with two other people, however they are not heavily involved in the code. One maintains the installer and 
                the <a href="https://snowtopiamodding.com/"> map directory website</a>, and the other helps balance features in the mod.
            </p>
            <h4>Trees</h4>
            <p>
                The most immediately noticable difference with my mod is the increase in tree density. Snowtopia uses an instanced rendering system to render trees and other
                objects, however the system is limited. By default, it has a max instance count of only 40k, but I have optimized it and increased it to 1 million. The primary
                peroformance gain was frustum culling. Since I did not have access to the shader source, I had to insert an shader extra stage written in HLSL to implement
                frustum culling.<br><br>
                Another challenge was the brush tool. In the unmodified game, trees cannot be added and can only be removed by building through them. This allows a very simple
                data structure to be used, because removed trees aren't even fully removed, just hidden. I implemented a custom data structure to be able to quickly add, remove,
                and find trees scalable up to millions of trees.
            </p>
            <h4>Lifts</h4>
            <p>
                Custom lifts are the most complex feature I've added. The default lifts are passable, but I have managed to improve on their asethetics significantly. Custom
                lifts are loaded with Unity's asset bundle system, and can contain script data to define behaviour on creation. The default static model towers have been repalced
                with high detail models that contain accurate sheaves. The towers adapt to the terrain with a 3d tower placement algorithm, allowing variable heights on towers.
                When the towers interact with ski runs, I've added padding to the towers. I've added sag to the cables that the cars run, realisticly modelled with caternery 
                curves. The cars enter the stations instead of immediately turning around, and for the detachable lifts, the vehicles slow down in the station like they would
                in real life.
            </p>
            <h4>Maps</h4>
            <p>
                I've added support to play on custom maps, easily created with a heightmap. The map size has been unlocked and maps that are 25 times the size of the unmodded maps are
                possible, although unideal for gameplay.
            </p>
            <h4>Other Features</h4>
            <p>
                The mod also contains innumerable other minor features, mostly quality of life features, that I do not have time to list here.
            </p>
            <p>
                <a href="https://github.com/charles-bruel/avalanche-github">Partial source code for the project can be found here.</a>
            </p>
        </div>
        <div>
            <div class="img-comp-container">
                <div class="img-comp-img">
                    <img src=".//media/ps2o.PNG">
                </div>
                <div class="img-comp-img img-comp-overlay">
                    <img src=".//media/ps2m.PNG">
                </div>
            </div>
            <p>Before and after view of a large area. Drag the blue circle to see the difference</p>
        </div>
        <div>
            <img src=".//media/ps7.PNG">
            <p>The tree brush UI</p>
        </div>
        <div>
            <div class="img-comp-container">
                <div class="img-comp-img">
                    <img src=".//media/ps1o.PNG">
                </div>
                <div class="img-comp-img img-comp-overlay">
                    <img src=".//media/ps1m.PNG">
                </div>
            </div>
            <p>Before and after closeup</p>
        </div>
        <div>
            <img src=".//media/ps3.PNG">
            <p>A lift that turns, based on snowflake at Breckenridge Ski Resort, CO.</p>
        </div>
        <div>
            <img src=".//media/ps4.PNG">
            <p>Realistic sheaves and realistic cable droop using caternery curves</p>
        </div>
        <div>
            <img src=".//media/ps5.PNG">
            <p>A pulsed gondola lift, the entire lift slows down when a set of pods enters a station</p>
        </div>
        <div>
            <img src=".//media/ps6.PNG">
            <p>Padding is automatically added when the lift towers are in the path of a slope</p>
        </div>
        <div>
            <img src=".//media/ps8.PNG">
            <p>Saddles deform to point perfectly tangent to the path of the lift</p>
        </div>
        <div>
            <img src=".//media/ps9.PNG">
            <p>Towers intelligently change their height depending on the lift type and terrain</p>
        </div>
        </div>
        <h3>Lexica</h3>
        <div class="lexica-content">
        <div class="lexica-text-content">
        <h4>Background and Goals</h4>
        <p>
            Constructed languages (conlangs for short) are made up languages, typically for a work of literature, such as Sindarin, Quenya, other languages by Tolkein, Klingon,
            Dothraki, High Valyrian, etc. One method of creating a naturalistic constructed language is the diachronic approach. The irregularity and quirks that makes a langauge
            seem authentic are driven by the evolution of the language through time, so the diachronic approach attempts to mimic that. The diachronic  appraoch involves creating at
            least two versions of the language, one earlier version (typically called the proto-lang) and later version(s), based on the earlier version(s). Allowing grammar rules
            to vary with time creates a lot of good variation, but the majority of the changes are in the sound of the language.
        </p>
        <p>
            The pronunciation of languages change with time, and each language changes differently, but the rules are very consistent within languages. Almost every word in Italian
            went through the same systematic set of changes from it's original Latin source. French, Spanish, Romanian, and all the other romance languages each went through their
            own set of changes to create the different characters of each language. A crucial part of the diachronic approach is defining the set of sound changes between versions of
            the language, then applying those changes to each word in turn.
        </p>
        <p>
            Mature conlangs can have thousands of words, so this process quickly gets tedious. There are already some online tools for writing these changes and applying them to words,
            and these tools are very capable, however these tools are standalone webapps or similar. If I've created two hundred words, <i>then</i> decide I don't like my sound changes
            (perhaps seeing two hundred words revealed a pattern I don't like), changing those sound changes requires rerunning the program on every word, another tedious and slow 
            process. My goal with this project is to create an integrated sound change tool so that modifying the sound changes is as simple as editing the source, and it will be
            automatically applied to every word. In addition, since I'm making the tool from scratch, I can add an array of other useful features, such as automatically declining
            and conjugating words.
        </p>
        <h4>Architecture and Status</h4>
        <p>
            The sound change computation is done in a Rust backend, and the UI is done in a web page frontend, both of which communicate with a websocket. I chose to seperate make a 
            seperate backend mostly for performance reasons, I wanted to be able to process potentially thousands of words very quickly, so avoiding javacsript seemed like a good 
            idea. I chose Rust for no particular reason; I just wanted to learn the language. Another advantage of a seperate backend is it improves UX around saving. I have not 
            seen a single web program have nice local saving, they all just dump files in downloads whenever you save, so having a backend allows me to have an actually good save 
            system which I really value.
        </p>
        <p>
            The core sound changer backend is mostly completely. It takes the sound change program written by the user and send by the frontend and turns it into a list of
            instructions. Each letter is represented as a set of user defined features. The features are set up in a tree like structure; vowels and consonants have different
            characteristics that define them. For example, the most important features of a consonants is it's manner of articulation, place of articulation, and whether it's voiced,
            whereas for a vowel it's frontedness, closeness, and roundedness. Those terms are related to how the <a href="https://www.ipachart.com/">International Phoenetic Alphabet 
            (IPA)</a> lays out sounds. Each feature is assigned to a place in a bitmap, and each letter is just a 64-bit bitmap. This means almost every operation can be reduced to bitwise operations and
            comparisions, making the entire process very fast.
        </p>
        <p>
            The frontend is written in plain Javascript, HTML, and CSS. I didn't know any frameworks or anything else when I started the project, and I decided it wasn't worth 
            learning at the time, so I went with what I was familiar with. The UI is formatted primarily as a spreadsheet, because that is my preferred way of recording details 
            about my conlangs. I implemented the spreadsheet completely from scratch. I took great care to mimic excel when writing the interaction scheme. It has almost all the
            same behaviours as excel, selecting is the same, cells merge the same way, etc. The only features it's currently lacking is selected entire rows or columns, and undo 
            support. There is a fully featured formula system that uses an abstract syntax tree to parse formulas. It supports delayed evaluation (for example the result from a
            sound change won't be immediately avaliable) and caching.
        </p>
        <p>
            The frontend contains a dedicated tool for writing sound change code. It is fully syntax highlighted, reports compilation errors to you when typing, has rudimentry auto-
            formatting support, and contains an area for quick testing of code.
        </p>
        <p>
            <a href="https://github.com/charles-bruel/lexica">Source code for the project can be found here.</a>
        </p>
        </div>
        <div>TODO: Replace me with picture of project in progress</div>
        <div class="lexica-example">
            <div style="grid-area:header">
                <h4>Here is a full example of the sound changer</h4>
                <p>
                    This demostrates a conversion from Clasical Latin in late Vulgar Latin or Proto-Romance, excluding some of the vowel changes. This would be the first step in
                    a project that involves making a custom romance language.
                </p>
            </div>
            <p style="grid-area:codeh">This is a code snippet containing the rules. Full setup is not included. The entire text of this program can be found in the documentation.</p>
            <pre style="grid-area:code">rules
    rule h-loss
        [vowel]$1(backness closeness round) h []$1 => [+long] h *
        h => *
    end

    rule final-m-loss
        m => n / $ [consonant]* [vowel] _ $ #First handle the except where it surives as n monosyllabically
        m => * / _ $
    end

    rule n-fricative-loss
        [vowel] n => [+long] * / _ [fricative]
    end

    rule duplicated-i-removal
        i i => [+long] *
    end

    #Ignoring rural dipthong change
    #Ignoring changing of vowel qualities

    rule w-loss
        w => β
        b => β / [vowel] _ [vowel]
        b => β / _ r
        β => * / [vowel +round] _ [vowel]
        β => * / [vowel] _ [vowel +round]
    end

    rule hiatus-semivowels
        [front -stress] => j / _ [vowel]
        [back -stress] => w / _ [vowel]
        [front +stress] [vowel] => j [+stress] / _ [consonant]* [vowel] [consonant]* $
        [back +stress] [vowel] => w [+stress]  / _ [consonant]* [vowel] [consonant]* $
        [consonant]$1 []$1 w => [] [] *
        w => * / _ [back -stress]
        [+labialized] => [-labialized] / _ [back]
        j e => * [+long]
        w o => * [+long]
        [+labialized] => [-labialized] / _ j
        [consonant] j => [+palatalized] * // $ _
    end

    rule j-fortion
        j => ɟ / [vowel] _ [vowel]
        j => ɟ / $ _
    end

    #Ignoring changing of vowel qualities

    rule g-spirantize
        g => ɣ / _ n
    end

    rule g-vocalize
        g => u̯ / _ m
    end

    rule ks-simplification
        k s => * s / _ [consonant]
        k s => * s / [consonant] _
        k s => * s / _ $
    end

    rule sC-word-initial-breakup
        * => i / $ _ s [consonant]
    end

    rule e-o-raise
        eː => [close] / _ s tʲ
        oː => [close] / _ s tʲ
        eː' => [close] / _ s tʲ #It matches strictly now
        oː' => [close] / _ s tʲ
    end

    rule epenthetic-final-e
        * => e / $ [consonant]* [vowel] [consonant]+ _ $
    end

    #Vowel length distinction collapse is not modeled
end</pre>
            <p style="grid-area:outputh">Here is the output of the code.</p>
            <p style="grid-area:output">
                ko'horte => ko'ːrte <br>
                nu'nkʷam => nu'nkʷa <br>
                kʷe'm => kʷe'ne <br>
                inte'gram => inte'gra <br>
                spo'nsa => ispo'ːsa <br>
                ko'nsiliiː => ko'ːsiliː <br>
                wi'ːwere => βi'ːβere <br>
                tra'bem => tra'βe <br>
                ri'ːwus => ri'ːus <br>
                fi'ːlius => fi'ːlʲus <br>
                sa'puiː => sa'pwiː <br>
                tenu'eram => tenwe'ra <br>
                fiːli'olus => fiːlʲo'lus <br>
                battu'ere => batte're <br>
                ka'rduus => ka'rdus <br>
                kʷo'ːmodo => ko'ːmodo <br>
                pari'eteːs => pare'ːteːs <br>
                la'kʷeum => la'kʲu <br>
                kaː'seum => ka'ːsʲu <br>
                fragme'nta => frau̯me'nta <br>
                ka'lks => ka'lse <br>
                se'kstus => se'stus <br>
                sko'la => isko'la <br>
                be'ːstia => bi'ːstʲa <br>
                o'ːstium => u'ːstʲu <br>
                rem => rene <br>
            </p>
        </div>
        </div>
        <h3>Rendering Projects</h3>
        <h3>Binary Palettes</h3>
        <div class="bp-content">
            <iframe width=400 height=425 src="./binary-palette/src/binarypalette-simple.html"></iframe>
            <div>
                <p>
                    This is a smaller project, but I chose to include it because I could add an interactive demo. <a
                    href="https://hansonbruel.com">My mother does art</a>, and one of her categories of work is called binary
                    palettes. In her words:
                </p>
                <div class="quote"><p>This series grew out of thinking about how computers represent colors. As both a graphic designer and artist, 
                    I spend a lot of time seeing my real-world colors translated by a computer for onscreen viewing — sometimes not 
                    very accurately. This series of paintings reverses that process.
                    <br><br>
                    4,096 unique colors can be represented using 12 binary digits, from black (000000000000) to white (111111111111). 
                    Each piece starts with a pattern of zeros and ones that determines the color palette, resulting in interesting 
                    and unexpected color relationships. While each string of digits defines a single, unchanging color to a computer, 
                    as an artist I can represent and interpret that color in infinite ways. In essence, my binary palettes are very poor
                    translations of computer-generated colors.</p>
                </div>
                <p>
                    This program allows takes those inputs and visualizes the colors. She uses it to design her works, but
                    it's also <a href="https://hansonbruel.com/binary-palettes">on her website</a> to allow people to 
                    experiment and understand the art better.
                    <br><br>
                    The buttons on the bottom load in the layout from some of her previous works. You can also click on
                    any cell to toggle it and create your own patterns.
                </p>
            </div>
        </div>
    </section>
    <div class="spacer-container"><div class="spacer wave2"></div></div>
    <section id="eng">
        <h2>Engineering Portfolio</h2>
        <img src="./media/ASSOCIATE - MECHANICAL DESIGN.png" class="center">
        <h3>Overview</h3>
        <p>
            I studied Engineering Technology at Minuteman High School since my freshman year. My engineering experience includes:
            <ul>
                <li>
                    Extensive CAD experience in Autodesk Inventor, SOLIDWORKS, Fusion 360, and Onshape, including earning my SOLIDWORKS 
                    associate certification.
                </li>
                <li>Experience in CNC machining on routers, mills, and lathes. Use of Fusion 360 software for CAM.</li>
                <li>Experience using 3D printers and laser cutters for rapid prototyping.</li>
                <li>Experience manually writing g-code.</li>
                <li>Experience designing for manufacturability.</li>
                <li>Experience using Fusion 360 for stress simulations.</li>
                <li>Experience with soldering and simple DC circuits.</li>
                <li>Experience with industrial robotics and automation.</li>
            </ul>
        </p>
        <h3>Robotics Experience</h3>
        <p>
            I was a founding member of the school's <i>FIRST</i> Robotics Team, FRC 8604, in my sophomore year. In my sophomore year, I was
            responsible for programming the Robot, and I also participated in design and CAD of the robot. In my junior year, I was also
            responsible for leading CAD and most other technical aspects of the team. Now, in my senior year, I am the captain of the team,
            so I organize and run trainings for CAD, programming, and prototyping.
        </p>
        <p>
            The team's <a href="https://github.com/Team8604">github page</a> has all of our code from each year. I am the primary contributor
            to every repo the team has.
        </p>
        <h4>CAD for robotics</h4>
        <p>None of these models are entirely my own, but the ones I show have the vast majority of the work done by me.</p>
        <h3>Swerve Module</h3>
        <p>
            My senior project is a swerve module for a swerve drive. A swerve drive a drivetrain system with 4 wheels, each indepedently powered 
            and steered. This allows the swerve drive to move in any direction indepedent of the direction the robot is facing, and allows faster
            positioning. Unlike some other drivetrain types that have similar maneuverability, the swerve drive actually aligns the wheels with the
            direction of travel, as opposed to using fixed omni wheels or mecanum wheels. This means the robot is less suspectible to being pushed
            around, and also means that all of the avaliable motor power is used.
        </p>
        <p>
            Due to the budget constraints, I made one of four modules that would make up a finished drive. I began by making models in CAD. I
            made 12 models of increasing viability and sophistication before arriving on my final model which I would make. I had several 
            constraints and criteria for the model. First, it had to be usable in <i>FIRST</i> robotics, and connect to the robot using the
            somewhat standard 2"x1" tube. Second, it had to have an absolute encoder to measure the rotation of the module. Homing it would be
            too complicated before every match, especially for something as critical as the drive system. Finally, I had to minimize footprint
            and mass.
        </p>
    </section>

    <script defer>//Shamelessly stolen from https://www.w3schools.com/howto/howto_js_image_comparison.asp
    function initComparisons() {
      var x, i;
      /*find all elements with an "overlay" class:*/
      x = document.getElementsByClassName("img-comp-overlay");
      for (i = 0; i < x.length; i++) {
        /*once for each "overlay" element:
        pass the "overlay" element as a parameter when executing the compareImages function:*/
        compareImages(x[i]);
      }
      function compareImages(img) {
        var slider, img, clicked = 0, w, h;
        /*get the width and height of the img element*/
        w = img.offsetWidth;
        h = img.offsetHeight;
        /*set the width of the img element to 50%:*/
        img.style.width = (w / 8) + "px";
        /*create slider:*/
        slider = document.createElement("DIV");
        slider.setAttribute("class", "img-comp-slider");
        /*insert slider*/
        img.parentElement.insertBefore(slider, img);
        /*position the slider in the middle:*/
        slider.style.top = (h / 2) - (slider.offsetHeight / 2) + "px";
        slider.style.left = (w / 8) - (slider.offsetWidth / 2) + "px";
        /*execute a function when the mouse button is pressed:*/
        slider.addEventListener("mousedown", slideReady);
        /*and another function when the mouse button is released:*/
        window.addEventListener("mouseup", slideFinish);
        /*or touched (for touch screens:*/
        slider.addEventListener("touchstart", slideReady);
        /*and released (for touch screens:*/
        window.addEventListener("touchend", slideFinish);
        function slideReady(e) {
          /*prevent any other actions that may occur when moving over the image:*/
          e.preventDefault();
          /*the slider is now clicked and ready to move:*/
          clicked = 1;
          /*execute a function when the slider is moved:*/
          window.addEventListener("mousemove", slideMove);
          window.addEventListener("touchmove", slideMove);
        }
        function slideFinish() {
          /*the slider is no longer clicked:*/
          clicked = 0;
        }
        function slideMove(e) {
          var pos;
          /*if the slider is no longer clicked, exit this function:*/
          if (clicked == 0) return false;
          /*get the cursor's x position:*/
          pos = getCursorPos(e)
          /*prevent the slider from being positioned outside the image:*/
          if (pos < 0) pos = 0;
          if (pos > w) pos = w;
          /*execute a function that will resize the overlay image according to the cursor:*/
          slide(pos);
        }
        function getCursorPos(e) {
          var a, x = 0;
          e = (e.changedTouches) ? e.changedTouches[0] : e;
          /*get the x positions of the image:*/
          a = img.getBoundingClientRect();
          /*calculate the cursor's x coordinate, relative to the image:*/
          x = e.pageX - a.left;
          /*consider any page scrolling:*/
          x = x - window.pageXOffset;
          return x;
        }
        function slide(x) {
          /*resize the image:*/
          img.style.width = x + "px";
          /*position the slider:*/
          slider.style.left = img.offsetWidth - (slider.offsetWidth / 2) + "px";
        }
      }
    }
    initComparisons();
    </script>
</body>
</html>